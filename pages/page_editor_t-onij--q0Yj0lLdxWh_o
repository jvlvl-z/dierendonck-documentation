{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Code Blocks","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"toc-heading","version":1,"tag":"h1","id":"code-blocks"},{"codeSrc":"$ echo '#!/bin/sh' > my-script.sh\n$ echo 'echo Hello World' >> my-script.sh\n$ chmod 755 my-script.sh\n$ ./my-script.sh\nHello World\n$","language":"shellscript","languageTitle":"Shell","codeHtml":"<pre class=\"shiki shiki-themes github-light-default github-dark-default\" style=\"background-color:#f1f5f9;--shiki-dark-bg:#0d1117;color:#1f2328;--shiki-dark:#e6edf3\" tabindex=\"0\"><code class=\"code-view\"><span class=\"line highlighted\" data-line=\"1\"><span style=\"color:#953800;--shiki-dark:#FFA657\">$</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> echo</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> '#!/bin/sh'</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\"> ></span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> my-script.sh</span></span>\n<span class=\"line highlighted\" data-line=\"2\"><span style=\"color:#953800;--shiki-dark:#FFA657\">$</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> echo</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'echo Hello World'</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\"> >></span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> my-script.sh</span></span>\n<span class=\"line\" data-line=\"3\"><span style=\"color:#953800;--shiki-dark:#FFA657\">$</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> chmod</span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\"> 755</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> my-script.sh</span></span>\n<span class=\"line\" data-line=\"4\"><span style=\"color:#953800;--shiki-dark:#FFA657\">$</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> ./my-script.sh</span></span>\n<span class=\"line\" data-line=\"5\"><span style=\"color:#953800;--shiki-dark:#FFA657\">Hello</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> World</span></span>\n<span class=\"line\" data-line=\"6\"><span style=\"color:#953800;--shiki-dark:#FFA657\">$</span></span></code></pre>","height":"175.172px","hasLineNumbers":false,"highlightedLineNumbers":[1,2],"type":"code-block","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Code Highlight + Line Numbers","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"toc-heading","version":1,"tag":"h2","id":"code-highlight-+-line-numbers"},{"codeSrc":"type Theme = 'light' | 'dark' | 'system';\n\nclass ThemeManager {\n    private theme: Theme;\n    private effectiveTheme: 'light' | 'dark';\n    private mediaQuery: MediaQueryList;\n\n    constructor() {\n        this.theme = (localStorage.getItem('theme') as Theme) || 'system';\n        this.effectiveTheme = 'light';\n        this.mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n\n        this.updateEffectiveTheme();\n        this.mediaQuery.addEventListener('change', () => this.updateEffectiveTheme());\n    }\n\n    setTheme(newTheme: Theme): void {\n        if (['light', 'dark', 'system'].includes(newTheme)) {\n            this.theme = newTheme;\n            localStorage.setItem('theme', newTheme);\n            this.updateEffectiveTheme();\n        }\n    }\n\n    private updateEffectiveTheme(): void {\n        if (this.theme === 'system') {\n            this.effectiveTheme = this.mediaQuery.matches ? 'dark' : 'light';\n        } else {\n            this.effectiveTheme = this.theme;\n        }\n\n        document.documentElement.classList.remove('theme-light', 'theme-dark');\n        document.documentElement.classList.add(`theme-${this.effectiveTheme}`);\n    }\n\n    getTheme(): Theme {\n        return this.theme;\n    }\n\n    getEffectiveTheme(): 'light' | 'dark' {\n        return this.effectiveTheme;\n    }\n}","language":"typescript","languageTitle":"TypeScript","codeHtml":"<pre class=\"shiki shiki-themes github-light-default github-dark-default\" style=\"background-color:#f1f5f9;--shiki-dark-bg:#0d1117;color:#1f2328;--shiki-dark:#e6edf3\" tabindex=\"0\"><code class=\"code-view with-line-numbers\"><span class=\"line highlighted\" data-line=\"1\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">type</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> Theme</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\"> =</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'light'</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\"> |</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'dark'</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\"> |</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'system'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">;</span></span>\n<span class=\"line\" data-line=\"2\"></span>\n<span class=\"line\" data-line=\"3\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">class</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> ThemeManager</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> {</span></span>\n<span class=\"line highlighted\" data-line=\"4\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">    private</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> theme</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">:</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> Theme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">;</span></span>\n<span class=\"line\" data-line=\"5\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">    private</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> effectiveTheme</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">:</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'light'</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\"> |</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'dark'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">;</span></span>\n<span class=\"line\" data-line=\"6\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">    private</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> mediaQuery</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">:</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> MediaQueryList</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">;</span></span>\n<span class=\"line\" data-line=\"7\"></span>\n<span class=\"line\" data-line=\"8\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">    constructor</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">() {</span></span>\n<span class=\"line highlighted\" data-line=\"9\"><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">        this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.theme </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">=</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> (localStorage.</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">getItem</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">(</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">'theme'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">) </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">as</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> Theme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">) </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">||</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'system'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">;</span></span>\n<span class=\"line\" data-line=\"10\"><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">        this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.effectiveTheme </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">=</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'light'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">;</span></span>\n<span class=\"line\" data-line=\"11\"><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">        this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.mediaQuery </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">=</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> window.</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">matchMedia</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">(</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">'(prefers-color-scheme: dark)'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">);</span></span>\n<span class=\"line\" data-line=\"12\"></span>\n<span class=\"line\" data-line=\"13\"><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">        this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">updateEffectiveTheme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">();</span></span>\n<span class=\"line\" data-line=\"14\"><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">        this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.mediaQuery.</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">addEventListener</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">(</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">'change'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">, () </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">=></span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\"> this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">updateEffectiveTheme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">());</span></span>\n<span class=\"line\" data-line=\"15\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">    }</span></span>\n<span class=\"line\" data-line=\"16\"></span>\n<span class=\"line\" data-line=\"17\"><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">    setTheme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">(</span><span style=\"color:#953800;--shiki-dark:#FFA657\">newTheme</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">:</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> Theme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">)</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">:</span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\"> void</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> {</span></span>\n<span class=\"line\" data-line=\"18\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">        if</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> ([</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">'light'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">, </span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">'dark'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">, </span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">'system'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">].</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">includes</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">(newTheme)) {</span></span>\n<span class=\"line\" data-line=\"19\"><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">            this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.theme </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">=</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> newTheme;</span></span>\n<span class=\"line\" data-line=\"20\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">            localStorage.</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">setItem</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">(</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">'theme'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">, newTheme);</span></span>\n<span class=\"line\" data-line=\"21\"><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">            this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">updateEffectiveTheme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">();</span></span>\n<span class=\"line\" data-line=\"22\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">        }</span></span>\n<span class=\"line\" data-line=\"23\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">    }</span></span>\n<span class=\"line\" data-line=\"24\"></span>\n<span class=\"line\" data-line=\"25\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">    private</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\"> updateEffectiveTheme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">()</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">:</span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\"> void</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> {</span></span>\n<span class=\"line\" data-line=\"26\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">        if</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> (</span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.theme </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">===</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'system'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">) {</span></span>\n<span class=\"line\" data-line=\"27\"><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">            this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.effectiveTheme </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">=</span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\"> this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.mediaQuery.matches </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">?</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'dark'</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\"> :</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'light'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">;</span></span>\n<span class=\"line\" data-line=\"28\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">        } </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">else</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> {</span></span>\n<span class=\"line\" data-line=\"29\"><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">            this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.effectiveTheme </span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">=</span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\"> this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.theme;</span></span>\n<span class=\"line\" data-line=\"30\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">        }</span></span>\n<span class=\"line\" data-line=\"31\"></span>\n<span class=\"line\" data-line=\"32\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">        document.documentElement.classList.</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">remove</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">(</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">'theme-light'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">, </span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">'theme-dark'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">);</span></span>\n<span class=\"line\" data-line=\"33\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">        document.documentElement.classList.</span><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">add</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">(</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">`theme-${</span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\">this</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">.</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">effectiveTheme</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\">}`</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">);</span></span>\n<span class=\"line\" data-line=\"34\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">    }</span></span>\n<span class=\"line\" data-line=\"35\"></span>\n<span class=\"line\" data-line=\"36\"><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">    getTheme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">()</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">:</span><span style=\"color:#953800;--shiki-dark:#FFA657\"> Theme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> {</span></span>\n<span class=\"line highlighted\" data-line=\"37\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">        return</span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\"> this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.theme;</span></span>\n<span class=\"line\" data-line=\"38\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">    }</span></span>\n<span class=\"line\" data-line=\"39\"></span>\n<span class=\"line\" data-line=\"40\"><span style=\"color:#8250DF;--shiki-dark:#D2A8FF\">    getEffectiveTheme</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">()</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">:</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'light'</span><span style=\"color:#CF222E;--shiki-dark:#FF7B72\"> |</span><span style=\"color:#0A3069;--shiki-dark:#A5D6FF\"> 'dark'</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\"> {</span></span>\n<span class=\"line\" data-line=\"41\"><span style=\"color:#CF222E;--shiki-dark:#FF7B72\">        return</span><span style=\"color:#0550AE;--shiki-dark:#79C0FF\"> this</span><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">.effectiveTheme;</span></span>\n<span class=\"line\" data-line=\"42\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">    }</span></span>\n<span class=\"line\" data-line=\"43\"><span style=\"color:#1F2328;--shiki-dark:#E6EDF3\">}</span></span></code></pre>","height":"1107.4px","hasLineNumbers":true,"highlightedLineNumbers":[4,37,9,1],"type":"code-block","version":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}